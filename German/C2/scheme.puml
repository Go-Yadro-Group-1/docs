@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title C2 Container: Jira Tracker

Person(user, "Пользователь", "Аналитик или менеджер проекта")

System_Boundary(tracker, "Jira Tracker") {
    Container(webapp, "Web Application", "Angular, TypeScript", "Интерфейс для работы с проектами и дашбордами")

    Container(backend, "Backend API", "Golang", "Обрабатывает запросы, вычисляет аналитику, управляет ETL-процессом переноса сырых данных в аналитические")

    Container(connector, "Jira Connector", "Golang", "Загружает задачи из Jira, нормализует и сохраняет сырые данные")

    ContainerDb(postgres, "PostgreSQL", "SQL Database", "Хранит сырые данные по задачам")

    ContainerDb(mongo, "Redis", "Cache", "Кэширует результаты аналитических запросов")
}

System_Ext(jira, "Atlassian Jira", "Внешняя система управления задачами")

Rel_R(user, webapp, "Работает с интерфейсом", "HTTPS")
Rel(webapp, backend, "Запросы данных и команды", "REST API")

Rel(backend, connector, "Запускает синхронизацию с Jira", "HTTP")
Rel(backend, postgres, "Читает сырые данные для аналитики", "SQL")
Rel(backend, mongo, "Кэширует данные", "Redis Protocol")

Rel(connector, jira, "Загружает issues, changelogs", "REST API")
Rel(connector, postgres, "Сохраняет сырые данные", "SQL")

@enduml
